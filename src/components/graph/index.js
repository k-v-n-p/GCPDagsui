import React,{ useState, useEffect } from 'react';
import Plot from 'react-plotly.js';

const demoData = [[0.4919305168208666,0.4750124298249527,0.4911502844033142,0.4742541790949569,0.48961408630226894,0.4716919803332227,0.49404001209089377,0.48234131012965614,0.45956015124878224,0.4969695125609481,0.4693702764197951,0.49065601797095343,0.4870121534486922,0.48369816183306585,0.47713097408413885,0.46917949269312276,0.48731253082320714,0.4750266447702112,0.5018126208267252,0.4895392106535534,0.4893557984711758,0.49008669408697947,0.4771892772327798,0.49430230288805127,0.4836533595225774,0.503521631975309,0.4787758022721391,0.4936201286676805,0.48198057510405,0.5068909122996653,0.4984560849028639,0.4986356829283371,0.48954903331177774,0.47113024174371576,0.49548216272863405,0.4774144423116619,0.49624194616723494,0.4900459463164831,0.4956338937879385,0.48803221647006767,0.4911427991193098,0.4887358937946071,0.48373948627656016,0.5087918606276314,0.47746748131078975,0.5022325313203813,0.48316164137407513,0.4914629988090989,0.49495219268816676,0.49482365063255807,0.49359771611731657,0.47381809385842644,0.49924404357928626,0.4826304175134282,0.5005330626988628,0.48916456222456567,0.48920489695253006],
[0.49253847606596535,0.4121956042169283,0.48744293907560254,0.47535426790224544,0.4219784976788408,0.49017816796064534,0.43912843352979203,0.45635114999410387,0.49051738671648004,0.4108210790271793,0.49256287001092763,0.4565617171989288,0.4458795416275583,0.48773361066996584,0.4122723275747073,0.48592443295056,0.4799626878268706,0.41134021994075737,0.4951527206915974,0.46336507191105436,0.42549553557376685,0.4865863909944892,0.4364740014716517,0.4505728775286116,0.49398703704355285,0.4037246101467948,0.5001345773712577,0.45342159919673575,0.4325716529545995,0.4861891112377634,0.44347008417923156,0.43214474156848154,0.4762517162928513,0.4424583336493621,0.4260876942057318,0.4845109683626409,0.4159011218852053,0.47504209974431433,0.4854250319612523,0.43878840855807844,0.5002860844426322,0.4217628082076165,0.49877348721202,0.4553763589055355,0.4497648916595305,0.49927192250518904,0.40846116814160877,0.49335515769586585,0.46164752810824816,0.4397729334916221,0.48877595175387495,0.4328030836428904,0.4280962773210679,0.4787863914728708,0.4411164008139167,0.44329629628725037,0.48080912104536155],
[0.9138828105370824,0.9537046856828965,0.8848815784440376,0.8824027592316269,0.882699527979518,0.901551022217609,0.9130626224175405,0.9375191269248413,0.8967418802320025,0.8886070252861827,0.8474521503900178,0.8447247257921845,0.8970657840526353,0.9379767640299784,0.850054438074585,0.8557631370533878,0.8782619930764971,0.8729597961685309,0.8905299371224827,0.9402608105447143,0.8833273270439046,0.8839197683613748,0.8650232194301982,0.8576014859252609,0.894138590087338,0.9305012276202129,0.8959449804543207,0.8703193101954336,0.8720488394921024,0.8884716647250267,0.9218308176340846,0.8884753348577457,0.8479986455291509,0.8647428252695438,0.8718455887127978,0.8578438926720992,0.8931490030023269,0.9574811086407863,0.8950806236554247,0.878489166436096,0.8816264860836478,0.892247198005983,0.9245798707784464,0.9211607077236598,0.8772575534026449,0.900578502821736,0.8875738340429962,0.898893827207697,0.9129663095848324,0.9052957368393739,0.8434556745419589,0.8438540184831557,0.8396929426739613,0.8885104730841703,0.9308258803677745,0.9070811852657547,0.8734304251226906]]


const x_data = Array.from({length: 60}, (_, i) => i + 1)

const Graph = (props) => {
    //const xcoords = props.data.x;
    //const ycoords = props.data.y;
    //console.log("in graph",xcoords,ycoords)

    const titles = props.titles;
    console.log("title of graph comp: ",titles)

    const transformData = (data) =>{
        console.log("before transform",data)
        let plot_data=[]
       
        let y_data=[]
        data.map(each =>{
            y_data.push(each)
        })
        console.log("in y",y_data)
        return y_data
    }


    return (
        <React.Fragment>
        <Plot
            data={[
            {
                x: x_data,
                y: transformData(demoData)[0],
                type: 'scatter',
                mode: 'lines+markers',
                marker: {color: 'red'},
            },
            {type: 'bar'},
            ]}
            layout={ {width: 480, height: 360, title: titles[0] || "node-1"} }
            // , grid: {rows: 1, columns: 2, pattern: 'independent'} //inside layout
            config={{ displayModeBar : false, scrollZoom: false }}
    
        />
        <Plot
            data={[
            {
                x: x_data,
                y: transformData(demoData)[1],
                type: 'scatter',
                mode: 'lines+markers',
                marker: {color: 'red'},
            },
            {type: 'bar'},
            ]}
            layout={ {width: 480, height: 360, title: titles[1]} }
            // , grid: {rows: 1, columns: 2, pattern: 'independent'} //inside layout
            config={{ displayModeBar : false, scrollZoom: false }}
    
        />
        <Plot
            data={[
            {
                x: x_data,
                y: transformData(demoData)[2],
                type: 'scatter',
                mode: 'lines+markers',
                marker: {color: 'red'},
            },
            {type: 'bar'},
            ]}
            layout={ {width: 480, height: 360, title: titles[2]} }
            // , grid: {rows: 1, columns: 2, pattern: 'independent'} //inside layout
            config={{ displayModeBar : false, scrollZoom: false }}
    
        />
        </React.Fragment>
    )
}

export default Graph;